<mujoco model="FlappyBird">
<!-- NOTE:
    - This is a very simplified version of flappy bird
    -->
  <compiler angle="radian" meshdir="meshes/" balanceinertia="true" />
  <!-- <statistic meansize="0.0652069" extent="0.541984" center="0.0122683 -0.0367867 0.0356997"/> -->
<!--  <option impratio="1" timestep="2e-5" gravity="0 0 -9.81" integrator="implicitfast"  density="1.225" viscosity="1.789e-5" wind="-16.5 0 0">-->
  <option impratio="1" gravity="0 0 -9.81"  integrator="implicit" density="1.225" viscosity="1.789e-5"> Uncomment this to enable aerodynamics
<!--  <option impratio="1"  gravity="0 0 -9.81"  integrator="implicit" > Uncomment this to disable aerodynamics-->
<!--    <flag contact="disable"/>-->
  </option>
   <!-- < density="1.225" viscosity="1.789e-5" integrator="Euler"/> -->
  <visual>
    <global offwidth="3000" offheight="3000"/>
  </visual>
  <asset>
    <texture builtin="gradient" type="skybox" height="100" width="100" rgb1="1 1 1" rgb2=".6 .8 1"/>
    <texture name="texgeom" builtin="flat" height="1278" mark="cross" markrgb="1 1 1" random="0.01" rgb1="0.8 0.6 0.4" rgb2="0.8 0.6 0.4" type="cube" width="127"/>
    <texture name="texplane" builtin="checker" height="1000" width="1000" rgb1="0 0 0" rgb2="0.8 0.8 0.8" type="2d"/>
    <material name="MatPlane" reflectance="0.5" shininess="1" specular="1" texrepeat="20 20" texture="texplane"/>
    <mesh name="tree_mesh" file="tree.stl" scale="0.01 0.01 0.01"/>

  </asset>

  <default>
    <geom contype="0" conaffinity="0" condim="1" solref="0.001 1"/>
    <equality solref="1e-10 1"/>
    <default class="visual">
      <geom group="2" type="mesh" contype="0" conaffinity="0" rgba="1 1 1 1" density="0" />
    </default>
    <default class="collision">
<!--      <geom contype="1" group="3" type="mesh" density="0" />-->
      <geom contype="1" group="3" density="0" />
    </default>
    <default class="aerodynamics">
      <geom group="2" type="mesh" contype="0" conaffinity="0" rgba="1 1 1 1" density="0" fluidshape="ellipsoid" fluidcoef="1.0 0.1 2.0 1.7 1.0"/>
    </default>
  </default>

  <!-- <worldbody>
      <body name= "tree" pos="-15 0 7" quat="1 0 0 1.57">
        <geom type="mesh" mesh="tree_mesh" rgba="0.3 0.2 0.1 1" contype="0" conaffinity="0"/>
      </body>
  </worldbody> -->

  <worldbody>
    <body name= "tree" pos="-15 0 7" quat="1 0 0 1.57">
        <geom type="mesh" mesh="tree_mesh" rgba="0.3 0.2 0.1 1" contype="0" conaffinity="0"/>
    </body>
    <light cutoff="100" diffuse="1 1 1" dir="-0 0 -1.3" directional="true" exponent="1" pos="0 0 1.3" specular=".1 .1 .1"/>
    <geom contype="1" conaffinity="1" condim="3" material="MatPlane" name="floor" pos="0 0 0" rgba="0.4 0.3 0.3 1" size="20 20 0.2" type="plane"/>
    <body name='Base' pos='-8 0 7' quat="1 0 0 0">
      <freejoint/>
     <!-- <joint name="z_slider" type="slide" axis="0 0 1" pos="-0.015 0 0"/>  Uncomment this to allow motion in z-->
      <!-- <joint name="x_slider" type="slide" axis="1 0 0" pos="0 0 0" damping="0.001"/>   Uncomment this to allow motion in x-->
<!--      <joint name="x_rot" type="hinge" axis="1 0 0" pos="-0.015 0 0"/>  Uncomment this to allow rolling-->
<!--      <joint name="y_rot" type="hinge" axis="0 1 0" pos="-0.015 0 0"/>  Uncomment this to allow pitching-->
<!--      <joint name="z_rot" type="hinge" axis="0 0 1" pos="-0.015 0 0"/>  Uncomment this to allow yawing-->
<!--      <joint name="all_rot" type="ball" pos="-0.015 0 0"/>  Uncomment this to allow rolling, pitching, and yawing (all rotation) -->


      <geom class="collision" type="capsule" size="0.02" fromto="0.15 0 0 -0.2 0 0" mass="0.02"/>
      <geom class="visual" type="capsule" size="0.02" fromto="0.15 0 0 -0.2 0 0"/>
<!--      <inertial pos="0 0 0" quat="1 0 0 0" mass="0.1"/>-->
      <site name="body_frame" pos="0 0 0" quat="1 0 0 0"/>

      <body name="Wing_L" pos="-0.1 0.35 0" quat="1 0 0 0">
        <joint name="J_flap_L" pos="0 -0.35 0" axis="1 0 0"/>
        <joint name="J_pitch_L" pos="0 -0.35 0" axis="0 1 0"/>
        <geom class="collision" type="ellipsoid" size="0.1 0.3 0.005" mass="0.01"/>
<!--        <geom class="visual" type="ellipsoid" size="0.1 0.2 0.005"/>-->
        <geom class="aerodynamics" type="ellipsoid" size="0.1 0.3 0.005"/>
      </body>

      <body name="Wing_R" pos="-0.1 -0.35 0" quat="1 0 0 0">
        <joint name="J_flap_R" pos="0 0.35 0" axis="-1 0 0"/>
        <joint name="J_pitch_R" pos="0 0.35 0" axis="0 1 0"/>
        <geom class="collision" type="ellipsoid" size="0.1 0.3 0.005" mass="0.01"/>
<!--        <geom class="visual" type="ellipsoid" size="0.1 0.2 0.005"/>-->
        <geom class="aerodynamics" type="ellipsoid" size="0.1 0.3 0.005"/>
      </body>

      <body name="Tail" pos="-0.45 0 0" quat="1 0 0 0">
        <joint name="J_tail" pos="0.075 0 0" axis="0 1 0"/>
        <geom class="collision" type="ellipsoid" size="0.07 0.2 0.005" mass="0.005"/>
<!--        <geom class="visual" type="ellipsoid" size="0.05 0.15 0.005"/>-->
        <geom class="aerodynamics" type="ellipsoid" size="0.07 0.2 0.005"/>
      </body>
<!--      <site name="x_axis_b" type="box" pos=".1 .0 .0" size=".15 .005 .005" quat="1 0 0 0" rgba="1 0 0 0.2"/>-->
<!--      <site name="y_axis_b" type="box" pos=".0 .1 .0" size=".15 .005 .005" quat=".707 0 0 .707" rgba="0 1 0 0.2"/>-->
<!--      <site name="z_axis_b" type="box" pos=".0 .0 .1" size=".15 .005 .005" quat="-.707 0 .707 0" rgba="0 0 1 0.2"/>-->
    </body>
<!--    <site name="x_axis" type="box" pos=".1 .0 .0" size=".15 .005 .005" quat="1 0 0 0" rgba="1 0 0 0.2"/>-->
<!--    <site name="y_axis" type="box" pos=".0 .1 .0" size=".15 .005 .005" quat=".707 0 0 .707" rgba="0 1 0 0.2"/>-->
<!--    <site name="z_axis" type="box" pos=".0 .0 .1" size=".15 .005 .005" quat="-.707 0 .707 0" rgba="0 0 1 0.2"/>-->
  </worldbody>

  <sensor>
    <framepos name="Body_pos" objtype="site" objname="body_frame"/>       <!-- datasensor[0:3] -->
    <framequat name="Body_quat" objtype="site" objname="body_frame"/>     <!-- datasensor[3:7] -->
    <framelinvel name="Body_linvel" objtype="site" objname="body_frame"/> <!-- datasensor[7:10] -->
    <gyro name="Body_angvel_local" site="body_frame"/>                    <!-- datasensor[10:13] -->
<!--    <frameangvel name="Body_angvel" objtype="site" objname="body_frame"/>-->
<!--    <velocimeter name="Body_linvel_local" site="body_frame"/>-->
  </sensor>

  <actuator>
    <position name="flap_L" joint="J_flap_L" ctrllimited="true" ctrlrange="-1.5 1.5" kp="20"/>
    <position name="pitch_L" joint="J_pitch_L" ctrllimited="true" ctrlrange="-1.5 1.5" kp="20"/>
    <position name="flap_R" joint="J_flap_R" ctrllimited="true" ctrlrange="-1.5 1.5" kp="20"/>
    <position name="pitch_R" joint="J_pitch_R" ctrllimited="true" ctrlrange="-1.5 1.5" kp="20"/>
    <velocity name="flap_L_vel" joint="J_flap_L" ctrllimited="true" ctrlrange="-0.7 0.7" kv="1"/>
    <velocity name="pitch_L_vel" joint="J_pitch_L" ctrllimited="true" ctrlrange="-0.7 0.7" kv="1"/>
    <velocity name="flap_R_vel" joint="J_flap_R" ctrllimited="true" ctrlrange="-0.7 0.7" kv="1"/>
    <velocity name="pitch_R_vel" joint="J_pitch_R" ctrllimited="true" ctrlrange="-0.7 0.7" kv="1"/>
    <position name="tail_angle" joint="J_tail" ctrllimited="true" ctrlrange="-0.7 0.7" kp="10"/>
    <velocity name="tail_vel" joint="J_tail" ctrllimited="true" ctrlrange="-0.7 0.7" kv="1"/>
  </actuator>

</mujoco>